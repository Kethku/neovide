use crate::window::keyboard::{unsupported_key, Token};
use skulpin::winit::event::VirtualKeyCode::{self, *};

/// Maps winit keyboard events to Vim tokens
pub fn handle_qwerty_layout(keycode: VirtualKeyCode, shift: bool) -> Option<Token<'static>> {
    let special = |text| Some(Token::new(text, true, true));
    let normal = |text| Some(Token::new(text, false, true));
    let partial = |text| Some(Token::new(text, false, false));
    match (keycode, shift) {
        (Back, _) => special("BS"),
        (Tab, _) => special("Tab"),
        (Return, _) => special("Enter"),
        (Escape, _) => special("Esc"),
        (Space, _) => normal(" "),
        (Apostrophe, false) => partial("'"),
        (Apostrophe, true) => partial("\""),
        (Comma, false) => normal(","),
        (Comma, true) => special("lt"),
        (Minus, false) => partial("-"),
        (Minus, true) => partial("_"),
        (Period, false) => partial("."),
        (Period, true) => partial(">"),
        (Slash, false) => partial("/"),
        (Slash, true) => partial("?"),
        (Key0, false) => normal("0"),
        (Key0, true) => special(")"),
        (Key1, false) => normal("1"),
        (Key1, true) => special("!"),
        (Key2, false) => partial("2"),
        (Key2, true) => partial("@"),
        (Key3, false) => partial("3"),
        (Key3, true) => partial("#"),
        (Key4, false) => partial("4"),
        (Key4, true) => partial("$"),
        (Key5, false) => partial("5"),
        (Key5, true) => partial("%"),
        (Key6, false) => partial("6"),
        (Key6, true) => partial("^"),
        (Key7, false) => partial("7"),
        (Key7, true) => partial("&"),
        (Key8, false) => partial("8"),
        (Key8, true) => partial("*"),
        (Key9, false) => partial("9"),
        (Key9, true) => partial("("),
        (Colon, _) => normal(":"),
        (Semicolon, false) => partial(";"),
        (Semicolon, true) => partial(":"),
        (Equals, false) => partial("="),
        (Equals, true) => partial("+"),
        (At, _) => normal("@"),
        (LBracket, false) => partial("["),
        (LBracket, true) => partial("{"),
        (Backslash, false) => partial("\\"),
        (Backslash, true) => partial("|"),
        (RBracket, false) => partial("]"),
        (RBracket, true) => partial("}"),
        (Caret, _) => normal("^"),
        (Grave, false) => partial("`"),
        (Grave, true) => partial("~"),
        (A, _) => normal("a"),
        (B, _) => normal("b"),
        (C, _) => normal("c"),
        (D, _) => normal("d"),
        (E, _) => normal("e"),
        (F, _) => normal("f"),
        (G, _) => normal("g"),
        (H, _) => normal("h"),
        (I, _) => normal("i"),
        (J, _) => normal("j"),
        (K, _) => normal("k"),
        (L, _) => normal("l"),
        (M, _) => normal("m"),
        (N, _) => normal("n"),
        (O, _) => normal("o"),
        (P, _) => normal("p"),
        (Q, _) => normal("q"),
        (R, _) => normal("r"),
        (S, _) => normal("s"),
        (T, _) => normal("t"),
        (U, _) => normal("u"),
        (V, _) => normal("v"),
        (W, _) => normal("w"),
        (X, _) => normal("x"),
        (Y, _) => normal("y"),
        (Z, _) => normal("z"),
        (Delete, _) => special("Delete"),
        (F1, _) => special("F1"),
        (F2, _) => special("F2"),
        (F3, _) => special("F3"),
        (F4, _) => special("F4"),
        (F5, _) => special("F5"),
        (F6, _) => special("F6"),
        (F7, _) => special("F7"),
        (F8, _) => special("F8"),
        (F9, _) => special("F9"),
        (F10, _) => special("F10"),
        (F11, _) => special("F11"),
        (F12, _) => special("F12"),
        (Insert, _) => special("Insert"),
        (Home, _) => special("Home"),
        (PageUp, _) => special("PageUp"),
        (End, _) => special("End"),
        (PageDown, _) => special("PageDown"),
        (Right, _) => special("Right"),
        (Left, _) => special("Left"),
        (Down, _) => special("Down"),
        (Up, _) => special("Up"),
        (Numpad0, _) => normal("0"),
        (Numpad1, _) => normal("1"),
        (Numpad2, _) => normal("2"),
        (Numpad3, _) => normal("3"),
        (Numpad4, _) => normal("4"),
        (Numpad5, _) => normal("5"),
        (Numpad6, _) => normal("6"),
        (Numpad7, _) => normal("7"),
        (Numpad8, _) => normal("8"),
        (Numpad9, _) => normal("9"),
        (F13, _) => special("F13"),
        (F14, _) => special("F14"),
        (F15, _) => special("F15"),
        (F16, _) => special("F16"),
        (F17, _) => special("F17"),
        (F18, _) => special("F18"),
        (F19, _) => special("F19"),
        (F20, _) => special("F20"),
        (F21, _) => special("F21"),
        (F22, _) => special("F22"),
        (F23, _) => special("F23"),
        (F24, _) => special("F24"),
        (LControl, _) => None,
        (LShift, _) => None,
        (LAlt, _) => None,
        (RControl, _) => None,
        (RShift, _) => None,
        (RAlt, _) => None,
        (keycode, _) => unsupported_key(keycode),
    }
}
