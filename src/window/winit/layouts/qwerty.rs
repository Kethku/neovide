use crate::window::layouts_shared::{token::Token, unsupported_key};
use skulpin::winit::event::VirtualKeyCode;

/// Maps winit keyboard events to Vim tokens
pub fn handle_qwerty_layout(keycode: VirtualKeyCode, shift: bool) -> Option<Token<'static>> {
    let special = |text| Some(Token::new(text, true, true));
    let normal = |text| Some(Token::new(text, false, true));
    let partial = |text| Some(Token::new(text, false, false));
    match (keycode, shift) {
        (VirtualKeyCode::Back, _) => special("BS"),
        (VirtualKeyCode::Tab, _) => special("Tab"),
        (VirtualKeyCode::Return, _) => special("Enter"),
        (VirtualKeyCode::Escape, _) => special("Esc"),
        (VirtualKeyCode::Space, _) => normal(" "),
        (VirtualKeyCode::Apostrophe, false) => partial("'"),
        (VirtualKeyCode::Apostrophe, true) => partial("\""),
        (VirtualKeyCode::Comma, false) => normal(","),
        (VirtualKeyCode::Comma, true) => special("lt"),
        (VirtualKeyCode::Minus, false) => partial("-"),
        (VirtualKeyCode::Minus, true) => partial("_"),
        (VirtualKeyCode::Period, false) => partial("."),
        (VirtualKeyCode::Period, true) => partial(">"),
        (VirtualKeyCode::Slash, false) => partial("/"),
        (VirtualKeyCode::Slash, true) => partial("?"),
        (VirtualKeyCode::Key0, false) => normal("0"),
        (VirtualKeyCode::Key0, true) => special(")"),
        (VirtualKeyCode::Key1, false) => normal("1"),
        (VirtualKeyCode::Key1, true) => special("!"),
        (VirtualKeyCode::Key2, false) => partial("2"),
        (VirtualKeyCode::Key2, true) => partial("@"),
        (VirtualKeyCode::Key3, false) => partial("3"),
        (VirtualKeyCode::Key3, true) => partial("#"),
        (VirtualKeyCode::Key4, false) => partial("4"),
        (VirtualKeyCode::Key4, true) => partial("$"),
        (VirtualKeyCode::Key5, false) => partial("5"),
        (VirtualKeyCode::Key5, true) => partial("%"),
        (VirtualKeyCode::Key6, false) => partial("6"),
        (VirtualKeyCode::Key6, true) => partial("^"),
        (VirtualKeyCode::Key7, false) => partial("7"),
        (VirtualKeyCode::Key7, true) => partial("&"),
        (VirtualKeyCode::Key8, false) => partial("8"),
        (VirtualKeyCode::Key8, true) => partial("*"),
        (VirtualKeyCode::Key9, false) => partial("9"),
        (VirtualKeyCode::Key9, true) => partial("("),
        (VirtualKeyCode::Colon, _) => normal(":"),
        (VirtualKeyCode::Semicolon, false) => partial(";"),
        (VirtualKeyCode::Semicolon, true) => partial(":"),
        (VirtualKeyCode::Equals, false) => partial("="),
        (VirtualKeyCode::Equals, true) => partial("+"),
        (VirtualKeyCode::At, _) => normal("@"),
        (VirtualKeyCode::LBracket, false) => partial("["),
        (VirtualKeyCode::LBracket, true) => partial("{"),
        (VirtualKeyCode::Backslash, false) => partial("\\"),
        (VirtualKeyCode::Backslash, true) => partial("|"),
        (VirtualKeyCode::RBracket, false) => partial("]"),
        (VirtualKeyCode::RBracket, true) => partial("}"),
        (VirtualKeyCode::Caret, _) => normal("^"),
        (VirtualKeyCode::Grave, false) => partial("`"),
        (VirtualKeyCode::Grave, true) => partial("~"),
        (VirtualKeyCode::A, _) => normal("a"),
        (VirtualKeyCode::B, _) => normal("b"),
        (VirtualKeyCode::C, _) => normal("c"),
        (VirtualKeyCode::D, _) => normal("d"),
        (VirtualKeyCode::E, _) => normal("e"),
        (VirtualKeyCode::F, _) => normal("f"),
        (VirtualKeyCode::G, _) => normal("g"),
        (VirtualKeyCode::H, _) => normal("h"),
        (VirtualKeyCode::I, _) => normal("i"),
        (VirtualKeyCode::J, _) => normal("j"),
        (VirtualKeyCode::K, _) => normal("k"),
        (VirtualKeyCode::L, _) => normal("l"),
        (VirtualKeyCode::M, _) => normal("m"),
        (VirtualKeyCode::N, _) => normal("n"),
        (VirtualKeyCode::O, _) => normal("o"),
        (VirtualKeyCode::P, _) => normal("p"),
        (VirtualKeyCode::Q, _) => normal("q"),
        (VirtualKeyCode::R, _) => normal("r"),
        (VirtualKeyCode::S, _) => normal("s"),
        (VirtualKeyCode::T, _) => normal("t"),
        (VirtualKeyCode::U, _) => normal("u"),
        (VirtualKeyCode::V, _) => normal("v"),
        (VirtualKeyCode::W, _) => normal("w"),
        (VirtualKeyCode::X, _) => normal("x"),
        (VirtualKeyCode::Y, _) => normal("y"),
        (VirtualKeyCode::Z, _) => normal("z"),
        (VirtualKeyCode::Delete, _) => special("Delete"),
        (VirtualKeyCode::F1, _) => special("F1"),
        (VirtualKeyCode::F2, _) => special("F2"),
        (VirtualKeyCode::F3, _) => special("F3"),
        (VirtualKeyCode::F4, _) => special("F4"),
        (VirtualKeyCode::F5, _) => special("F5"),
        (VirtualKeyCode::F6, _) => special("F6"),
        (VirtualKeyCode::F7, _) => special("F7"),
        (VirtualKeyCode::F8, _) => special("F8"),
        (VirtualKeyCode::F9, _) => special("F9"),
        (VirtualKeyCode::F10, _) => special("F10"),
        (VirtualKeyCode::F11, _) => special("F11"),
        (VirtualKeyCode::F12, _) => special("F12"),
        (VirtualKeyCode::Insert, _) => special("Insert"),
        (VirtualKeyCode::Home, _) => special("Home"),
        (VirtualKeyCode::PageUp, _) => special("PageUp"),
        (VirtualKeyCode::End, _) => special("End"),
        (VirtualKeyCode::PageDown, _) => special("PageDown"),
        (VirtualKeyCode::Right, _) => special("Right"),
        (VirtualKeyCode::Left, _) => special("Left"),
        (VirtualKeyCode::Down, _) => special("Down"),
        (VirtualKeyCode::Up, _) => special("Up"),
        (VirtualKeyCode::Numpad0, _) => normal("0"),
        (VirtualKeyCode::Numpad1, _) => normal("1"),
        (VirtualKeyCode::Numpad2, _) => normal("2"),
        (VirtualKeyCode::Numpad3, _) => normal("3"),
        (VirtualKeyCode::Numpad4, _) => normal("4"),
        (VirtualKeyCode::Numpad5, _) => normal("5"),
        (VirtualKeyCode::Numpad6, _) => normal("6"),
        (VirtualKeyCode::Numpad7, _) => normal("7"),
        (VirtualKeyCode::Numpad8, _) => normal("8"),
        (VirtualKeyCode::Numpad9, _) => normal("9"),
        (VirtualKeyCode::F13, _) => special("F13"),
        (VirtualKeyCode::F14, _) => special("F14"),
        (VirtualKeyCode::F15, _) => special("F15"),
        (VirtualKeyCode::F16, _) => special("F16"),
        (VirtualKeyCode::F17, _) => special("F17"),
        (VirtualKeyCode::F18, _) => special("F18"),
        (VirtualKeyCode::F19, _) => special("F19"),
        (VirtualKeyCode::F20, _) => special("F20"),
        (VirtualKeyCode::F21, _) => special("F21"),
        (VirtualKeyCode::F22, _) => special("F22"),
        (VirtualKeyCode::F23, _) => special("F23"),
        (VirtualKeyCode::F24, _) => special("F24"),
        (VirtualKeyCode::LControl, _) => None,
        (VirtualKeyCode::LShift, _) => None,
        (VirtualKeyCode::LAlt, _) => None,
        (VirtualKeyCode::RControl, _) => None,
        (VirtualKeyCode::RShift, _) => None,
        (VirtualKeyCode::RAlt, _) => None,
        (keycode, _) => unsupported_key(keycode),
    }
}
